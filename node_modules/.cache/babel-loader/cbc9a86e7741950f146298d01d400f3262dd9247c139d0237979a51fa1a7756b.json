{"ast":null,"code":"// services/pdfService.js\nclass PDFService {\n  constructor() {\n    this.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n    this.legacyBaseURL = process.env.REACT_APP_LEGACY_API_URL || 'http://localhost:3000';\n  }\n\n  // Backend bağlantısını test et\n  async testConnection() {\n    try {\n      const response = await fetch(`${this.baseURL}/api/health`, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      return response.ok;\n    } catch (error) {\n      console.warn('New API not available, will use legacy API');\n      return false;\n    }\n  }\n\n  // Demo/Mock PDF generation (offline çalışma için)\n  async generatePDFDemo(formData, docType, language = 'en') {\n    try {\n      console.log('Using demo PDF generation (offline mode)');\n\n      // Demo için basit HTML to PDF conversion\n      const fileName = this.generateFileName(docType, formData);\n      const demoHtml = this.generateDemoHTML(formData, docType, language);\n\n      // Simple demo PDF content as HTML\n      const demoWindow = window.open('', '_blank');\n      demoWindow.document.write(demoHtml);\n      demoWindow.document.close();\n\n      // Print dialog açarak kullanıcının PDF olarak kaydetmesini sağla\n      setTimeout(() => {\n        demoWindow.print();\n      }, 500);\n      return true;\n    } catch (error) {\n      console.error('Demo PDF generation error:', error);\n\n      // Basit alert ile demo PDF bilgisi göster\n      const formInfo = Object.entries(formData).slice(0, 5).map(([key, value]) => `${key}: ${value}`).join('\\n');\n      alert(`DEMO PDF OLUŞTURULDU\\n\\nBelge Türü: ${docType}\\nDil: ${language}\\n\\nForm Bilgileri:\\n${formInfo}\\n\\nNot: Bu demo modda çalışmaktadır. Gerçek PDF için backend servisi gereklidir.`);\n      return true;\n    }\n  }\n\n  // Demo HTML içeriği oluştur\n  generateDemoHTML(formData, docType, language) {\n    const timestamp = new Date().toLocaleDateString('tr-TR');\n    const formEntries = Object.entries(formData);\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>DEMO - ${docType.toUpperCase()}</title>\n        <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            .header { background: #f0f0f0; padding: 15px; margin-bottom: 20px; border-radius: 5px; }\n            .demo-notice { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; margin-bottom: 20px; border-radius: 5px; }\n            .form-data { border-collapse: collapse; width: 100%; }\n            .form-data th, .form-data td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            .form-data th { background-color: #f2f2f2; }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <h1>DEMO PDF - ${docType.toUpperCase()}</h1>\n            <p>Oluşturulma Tarihi: ${timestamp}</p>\n            <p>Dil: ${language}</p>\n        </div>\n        \n        <div class=\"demo-notice\">\n            <strong>⚠️ DEMO MOD AKTIF</strong><br>\n            Bu PDF demo amaçlı oluşturulmuştur. Backend servisi aktif olduğunda gerçek PDF üretilecektir.\n        </div>\n        \n        <h2>Form Verileri</h2>\n        <table class=\"form-data\">\n            <thead>\n                <tr>\n                    <th>Alan</th>\n                    <th>Değer</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${formEntries.map(([key, value]) => `\n                    <tr>\n                        <td>${key}</td>\n                        <td>${value || 'Boş'}</td>\n                    </tr>\n                `).join('')}\n            </tbody>\n        </table>\n        \n        <div style=\"margin-top: 30px; font-size: 12px; color: #666;\">\n            <p>Bu belge ${timestamp} tarihinde demo modda oluşturulmuştur.</p>\n            <p>Gerçek PDF üretimi için backend servisi gereklidir.</p>\n        </div>\n    </body>\n    </html>\n    `;\n  }\n\n  // Demo içerik oluştur\n  generateDemoContent(formData, docType, language) {\n    const fields = Object.keys(formData).length;\n    const timestamp = new Date().toLocaleDateString('tr-TR');\n    return {\n      docType,\n      language,\n      fields,\n      timestamp,\n      message: 'Bu bir demo PDF\\'dir. Backend servisi aktif olduğunda gerçek PDF üretilecektir.'\n    };\n  }\n\n  // Legacy PDF generation (fallback)\n  async generatePDFLegacy(formData, docType, language = 'en') {\n    try {\n      const response = await fetch(`${this.legacyBaseURL}/api/generatePDF`, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          docType,\n          formData,\n          language\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Legacy API error! status: ${response.status}`);\n      }\n      const blob = await response.blob();\n      if (blob.size === 0) {\n        throw new Error('Received empty PDF file from legacy server');\n      }\n\n      // Dosyayı indir\n      const fileName = this.generateFileName(docType, formData);\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      return true;\n    } catch (error) {\n      console.error('Legacy PDF generation error:', error);\n      throw error;\n    }\n  }\n\n  // 1. PDF üretimini başlat\n  async startPDFGeneration(docType, formData, language = 'en') {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/start`, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          docType,\n          formData,\n          language\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      const result = await response.json();\n      return result.jobId;\n    } catch (error) {\n      console.error('Error starting PDF generation:', error);\n      throw error;\n    }\n  }\n\n  // 2. PDF durumunu kontrol et\n  async checkPDFStatus(jobId) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/status/${jobId}`);\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error('Error checking PDF status:', error);\n      throw error;\n    }\n  }\n\n  // 3. PDF'i indir\n  async downloadPDF(jobId, fileName = 'document.pdf') {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/download/${jobId}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const blob = await response.blob();\n\n      // Blob'un boyutunu kontrol et\n      if (blob.size === 0) {\n        throw new Error('Received empty PDF file from server');\n      }\n\n      // Dosyayı indir\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      return true;\n    } catch (error) {\n      console.error('Error downloading PDF:', error);\n      throw error;\n    }\n  }\n\n  // Polling ile durum kontrolü (otomatik kontrol)\n  async waitForPDFCompletion(jobId, onProgress = null, timeout = 60000) {\n    const startTime = Date.now();\n    const pollInterval = 1000; // 1 saniye\n\n    return new Promise((resolve, reject) => {\n      const poll = async () => {\n        try {\n          if (Date.now() - startTime > timeout) {\n            reject(new Error('PDF generation timeout'));\n            return;\n          }\n          const status = await this.checkPDFStatus(jobId);\n\n          // Progress callback'i varsa çağır\n          if (onProgress) {\n            onProgress(status);\n          }\n          if (status.status === 'completed') {\n            resolve(status);\n          } else if (status.status === 'failed') {\n            reject(new Error(status.error || 'PDF generation failed'));\n          } else {\n            // Hala pending/processing, tekrar kontrol et\n            setTimeout(poll, pollInterval);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n      poll();\n    });\n  }\n\n  // Form type'a göre dosya adı oluştur\n  generateFileName(docType, formData) {\n    const timestamp = Date.now();\n    switch (docType) {\n      case 'proforma-invoice':\n        const proformaNumber = formData['PROFORMA INVOICE NUMBER'] || 'Proforma';\n        const proformaCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safeProformaName = `${proformaNumber}_${proformaCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeProformaName}_Proforma-Invoice.pdf`;\n      case 'invoice':\n        const invoiceNumber = formData['INVOICE NUMBER'] || 'Invoice';\n        const invoiceCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safeInvoiceName = `${invoiceNumber}_${invoiceCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeInvoiceName}_Invoice.pdf`;\n      case 'packing-list':\n        const packingInvoiceNumber = formData['INVOICE NUMBER'] || 'No-Invoice-Number';\n        const packingCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safePackingName = `${packingInvoiceNumber}_${packingCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safePackingName}_Packing-List.pdf`;\n      case 'credit-note':\n        const creditNumber = formData['CREDIT NOTE NUMBER'] || 'Credit-Note';\n        const safeCreditNumber = creditNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeCreditNumber}_Credit-Note.pdf`;\n      case 'debit-note':\n        const debitNumber = formData['DEBIT NOTE NUMBER'] || 'Debit-Note';\n        const safeDebitNumber = debitNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeDebitNumber}_Debit-Note.pdf`;\n      case 'order-confirmation':\n        const orderConfirmationNumber = formData['ORDER CONFIRMATION NUMBER'] || 'Order-Confirmation';\n        const safeOrderConfirmationNumber = orderConfirmationNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeOrderConfirmationNumber}_Order-Confirmation.pdf`;\n      case 'siparis':\n        const orderNumber = formData['ORDER NUMBER'] || 'No-Order-Number';\n        const safeOrderNumber = orderNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeOrderNumber}_Siparis-Formu.pdf`;\n      case 'price-offer':\n        const priceOfferNumber = formData['PRICE OFFER NUMBER'] || 'No-Price-Offer-Number';\n        const safePriceOfferNumber = priceOfferNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safePriceOfferNumber}_Price-Offer.pdf`;\n      case 'fabric-technical':\n        const articleCode = formData['ARTICLE CODE'] || 'Technical';\n        const safeArticleCode = articleCode.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeArticleCode}_Technical-Specification.pdf`;\n      default:\n        return `${docType}_${timestamp}.pdf`;\n    }\n  }\n\n  // Ana PDF üretim fonksiyonu - Fallback desteği ile\n  async generatePDFWithFallback(formData, docType, language = 'en') {\n    try {\n      // Önce yeni API'yi dene\n      const isConnected = await this.testConnection();\n      if (isConnected) {\n        console.log('Using new 3-stage PDF API');\n        const jobId = await this.startPDFGeneration(docType, formData, language);\n        await this.waitForPDFCompletion(jobId);\n        const fileName = this.generateFileName(docType, formData);\n        return await this.downloadPDF(jobId, fileName);\n      } else {\n        console.log('New API not available, trying legacy API');\n        return await this.generatePDFLegacy(formData, docType, language);\n      }\n    } catch (error) {\n      console.error('Primary PDF generation failed, trying legacy API:', error);\n      try {\n        return await this.generatePDFLegacy(formData, docType, language);\n      } catch (legacyError) {\n        console.error('Legacy API also failed, using demo PDF generation:', legacyError);\n        try {\n          return await this.generatePDFDemo(formData, docType, language);\n        } catch (demoError) {\n          console.error('All PDF generation methods failed:', demoError);\n          throw new Error(`PDF oluşturulamadı. Tüm sistemler devre dışı. (Error: ${error.message})`);\n        }\n      }\n    }\n  }\n}\nconst pdfService = new PDFService();\nexport default pdfService;","map":{"version":3,"names":["PDFService","constructor","baseURL","process","env","REACT_APP_API_URL","legacyBaseURL","REACT_APP_LEGACY_API_URL","testConnection","response","fetch","method","mode","headers","ok","error","console","warn","generatePDFDemo","formData","docType","language","log","fileName","generateFileName","demoHtml","generateDemoHTML","demoWindow","window","open","document","write","close","setTimeout","print","formInfo","Object","entries","slice","map","key","value","join","alert","timestamp","Date","toLocaleDateString","formEntries","toUpperCase","generateDemoContent","fields","keys","length","message","generatePDFLegacy","body","JSON","stringify","Error","status","blob","size","url","URL","createObjectURL","a","createElement","style","display","href","download","appendChild","click","revokeObjectURL","removeChild","startPDFGeneration","errorData","json","catch","result","jobId","checkPDFStatus","downloadPDF","waitForPDFCompletion","onProgress","timeout","startTime","now","pollInterval","Promise","resolve","reject","poll","proformaNumber","proformaCompany","safeProformaName","replace","invoiceNumber","invoiceCompany","safeInvoiceName","packingInvoiceNumber","packingCompany","safePackingName","creditNumber","safeCreditNumber","debitNumber","safeDebitNumber","orderConfirmationNumber","safeOrderConfirmationNumber","orderNumber","safeOrderNumber","priceOfferNumber","safePriceOfferNumber","articleCode","safeArticleCode","generatePDFWithFallback","isConnected","legacyError","demoError","pdfService"],"sources":["/Users/mehmettfaik/Documents/GitHub/Tuana-Dokuman-Frontend/src/services/pdfService.js"],"sourcesContent":["// services/pdfService.js\nclass PDFService {\n  constructor() {\n    this.baseURL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n    this.legacyBaseURL = process.env.REACT_APP_LEGACY_API_URL || 'http://localhost:3000';\n  }\n\n  // Backend bağlantısını test et\n  async testConnection() {\n    try {\n      const response = await fetch(`${this.baseURL}/api/health`, {\n        method: 'GET',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      return response.ok;\n    } catch (error) {\n      console.warn('New API not available, will use legacy API');\n      return false;\n    }\n  }\n\n  // Demo/Mock PDF generation (offline çalışma için)\n  async generatePDFDemo(formData, docType, language = 'en') {\n    try {\n      console.log('Using demo PDF generation (offline mode)');\n      \n      // Demo için basit HTML to PDF conversion\n      const fileName = this.generateFileName(docType, formData);\n      const demoHtml = this.generateDemoHTML(formData, docType, language);\n      \n      // Simple demo PDF content as HTML\n      const demoWindow = window.open('', '_blank');\n      demoWindow.document.write(demoHtml);\n      demoWindow.document.close();\n      \n      // Print dialog açarak kullanıcının PDF olarak kaydetmesini sağla\n      setTimeout(() => {\n        demoWindow.print();\n      }, 500);\n      \n      return true;\n    } catch (error) {\n      console.error('Demo PDF generation error:', error);\n      \n      // Basit alert ile demo PDF bilgisi göster\n      const formInfo = Object.entries(formData)\n        .slice(0, 5)\n        .map(([key, value]) => `${key}: ${value}`)\n        .join('\\n');\n        \n      alert(`DEMO PDF OLUŞTURULDU\\n\\nBelge Türü: ${docType}\\nDil: ${language}\\n\\nForm Bilgileri:\\n${formInfo}\\n\\nNot: Bu demo modda çalışmaktadır. Gerçek PDF için backend servisi gereklidir.`);\n      \n      return true;\n    }\n  }\n\n  // Demo HTML içeriği oluştur\n  generateDemoHTML(formData, docType, language) {\n    const timestamp = new Date().toLocaleDateString('tr-TR');\n    const formEntries = Object.entries(formData);\n    \n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <title>DEMO - ${docType.toUpperCase()}</title>\n        <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            .header { background: #f0f0f0; padding: 15px; margin-bottom: 20px; border-radius: 5px; }\n            .demo-notice { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; margin-bottom: 20px; border-radius: 5px; }\n            .form-data { border-collapse: collapse; width: 100%; }\n            .form-data th, .form-data td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n            .form-data th { background-color: #f2f2f2; }\n        </style>\n    </head>\n    <body>\n        <div class=\"header\">\n            <h1>DEMO PDF - ${docType.toUpperCase()}</h1>\n            <p>Oluşturulma Tarihi: ${timestamp}</p>\n            <p>Dil: ${language}</p>\n        </div>\n        \n        <div class=\"demo-notice\">\n            <strong>⚠️ DEMO MOD AKTIF</strong><br>\n            Bu PDF demo amaçlı oluşturulmuştur. Backend servisi aktif olduğunda gerçek PDF üretilecektir.\n        </div>\n        \n        <h2>Form Verileri</h2>\n        <table class=\"form-data\">\n            <thead>\n                <tr>\n                    <th>Alan</th>\n                    <th>Değer</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${formEntries.map(([key, value]) => `\n                    <tr>\n                        <td>${key}</td>\n                        <td>${value || 'Boş'}</td>\n                    </tr>\n                `).join('')}\n            </tbody>\n        </table>\n        \n        <div style=\"margin-top: 30px; font-size: 12px; color: #666;\">\n            <p>Bu belge ${timestamp} tarihinde demo modda oluşturulmuştur.</p>\n            <p>Gerçek PDF üretimi için backend servisi gereklidir.</p>\n        </div>\n    </body>\n    </html>\n    `;\n  }\n\n  // Demo içerik oluştur\n  generateDemoContent(formData, docType, language) {\n    const fields = Object.keys(formData).length;\n    const timestamp = new Date().toLocaleDateString('tr-TR');\n    \n    return {\n      docType,\n      language,\n      fields,\n      timestamp,\n      message: 'Bu bir demo PDF\\'dir. Backend servisi aktif olduğunda gerçek PDF üretilecektir.'\n    };\n  }\n\n  // Legacy PDF generation (fallback)\n  async generatePDFLegacy(formData, docType, language = 'en') {\n    try {\n      const response = await fetch(`${this.legacyBaseURL}/api/generatePDF`, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          docType,\n          formData,\n          language\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Legacy API error! status: ${response.status}`);\n      }\n\n      const blob = await response.blob();\n      \n      if (blob.size === 0) {\n        throw new Error('Received empty PDF file from legacy server');\n      }\n      \n      // Dosyayı indir\n      const fileName = this.generateFileName(docType, formData);\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n      return true;\n    } catch (error) {\n      console.error('Legacy PDF generation error:', error);\n      throw error;\n    }\n  }\n\n  // 1. PDF üretimini başlat\n  async startPDFGeneration(docType, formData, language = 'en') {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/start`, {\n        method: 'POST',\n        mode: 'cors',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          docType,\n          formData,\n          language\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      return result.jobId;\n    } catch (error) {\n      console.error('Error starting PDF generation:', error);\n      throw error;\n    }\n  }\n\n  // 2. PDF durumunu kontrol et\n  async checkPDFStatus(jobId) {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/status/${jobId}`);\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error checking PDF status:', error);\n      throw error;\n    }\n  }\n\n  // 3. PDF'i indir\n  async downloadPDF(jobId, fileName = 'document.pdf') {\n    try {\n      const response = await fetch(`${this.baseURL}/api/pdf/download/${jobId}`);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const blob = await response.blob();\n      \n      // Blob'un boyutunu kontrol et\n      if (blob.size === 0) {\n        throw new Error('Received empty PDF file from server');\n      }\n      \n      // Dosyayı indir\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.style.display = 'none';\n      a.href = url;\n      a.download = fileName;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n      return true;\n    } catch (error) {\n      console.error('Error downloading PDF:', error);\n      throw error;\n    }\n  }\n\n  // Polling ile durum kontrolü (otomatik kontrol)\n  async waitForPDFCompletion(jobId, onProgress = null, timeout = 60000) {\n    const startTime = Date.now();\n    const pollInterval = 1000; // 1 saniye\n\n    return new Promise((resolve, reject) => {\n      const poll = async () => {\n        try {\n          if (Date.now() - startTime > timeout) {\n            reject(new Error('PDF generation timeout'));\n            return;\n          }\n\n          const status = await this.checkPDFStatus(jobId);\n          \n          // Progress callback'i varsa çağır\n          if (onProgress) {\n            onProgress(status);\n          }\n\n          if (status.status === 'completed') {\n            resolve(status);\n          } else if (status.status === 'failed') {\n            reject(new Error(status.error || 'PDF generation failed'));\n          } else {\n            // Hala pending/processing, tekrar kontrol et\n            setTimeout(poll, pollInterval);\n          }\n        } catch (error) {\n          reject(error);\n        }\n      };\n\n      poll();\n    });\n  }\n\n  // Form type'a göre dosya adı oluştur\n  generateFileName(docType, formData) {\n    const timestamp = Date.now();\n    \n    switch (docType) {\n      case 'proforma-invoice':\n        const proformaNumber = formData['PROFORMA INVOICE NUMBER'] || 'Proforma';\n        const proformaCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safeProformaName = `${proformaNumber}_${proformaCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeProformaName}_Proforma-Invoice.pdf`;\n        \n      case 'invoice':\n        const invoiceNumber = formData['INVOICE NUMBER'] || 'Invoice';\n        const invoiceCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safeInvoiceName = `${invoiceNumber}_${invoiceCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeInvoiceName}_Invoice.pdf`;\n        \n      case 'packing-list':\n        const packingInvoiceNumber = formData['INVOICE NUMBER'] || 'No-Invoice-Number';\n        const packingCompany = formData['RECIPIENT Şirket Adı'] || 'Company';\n        const safePackingName = `${packingInvoiceNumber}_${packingCompany}`.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safePackingName}_Packing-List.pdf`;\n        \n      case 'credit-note':\n        const creditNumber = formData['CREDIT NOTE NUMBER'] || 'Credit-Note';\n        const safeCreditNumber = creditNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeCreditNumber}_Credit-Note.pdf`;\n        \n      case 'debit-note':\n        const debitNumber = formData['DEBIT NOTE NUMBER'] || 'Debit-Note';\n        const safeDebitNumber = debitNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeDebitNumber}_Debit-Note.pdf`;\n        \n      case 'order-confirmation':\n        const orderConfirmationNumber = formData['ORDER CONFIRMATION NUMBER'] || 'Order-Confirmation';\n        const safeOrderConfirmationNumber = orderConfirmationNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeOrderConfirmationNumber}_Order-Confirmation.pdf`;\n        \n      case 'siparis':\n        const orderNumber = formData['ORDER NUMBER'] || 'No-Order-Number';\n        const safeOrderNumber = orderNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeOrderNumber}_Siparis-Formu.pdf`;\n        \n      case 'price-offer':\n        const priceOfferNumber = formData['PRICE OFFER NUMBER'] || 'No-Price-Offer-Number';\n        const safePriceOfferNumber = priceOfferNumber.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safePriceOfferNumber}_Price-Offer.pdf`;\n        \n      case 'fabric-technical':\n        const articleCode = formData['ARTICLE CODE'] || 'Technical';\n        const safeArticleCode = articleCode.replace(/[^a-zA-Z0-9-_\\s]/g, '').replace(/\\s+/g, '-');\n        return `${safeArticleCode}_Technical-Specification.pdf`;\n        \n      default:\n        return `${docType}_${timestamp}.pdf`;\n    }\n  }\n\n  // Ana PDF üretim fonksiyonu - Fallback desteği ile\n  async generatePDFWithFallback(formData, docType, language = 'en') {\n    try {\n      // Önce yeni API'yi dene\n      const isConnected = await this.testConnection();\n      \n      if (isConnected) {\n        console.log('Using new 3-stage PDF API');\n        const jobId = await this.startPDFGeneration(docType, formData, language);\n        await this.waitForPDFCompletion(jobId);\n        const fileName = this.generateFileName(docType, formData);\n        return await this.downloadPDF(jobId, fileName);\n      } else {\n        console.log('New API not available, trying legacy API');\n        return await this.generatePDFLegacy(formData, docType, language);\n      }\n    } catch (error) {\n      console.error('Primary PDF generation failed, trying legacy API:', error);\n      try {\n        return await this.generatePDFLegacy(formData, docType, language);\n      } catch (legacyError) {\n        console.error('Legacy API also failed, using demo PDF generation:', legacyError);\n        try {\n          return await this.generatePDFDemo(formData, docType, language);\n        } catch (demoError) {\n          console.error('All PDF generation methods failed:', demoError);\n          throw new Error(`PDF oluşturulamadı. Tüm sistemler devre dışı. (Error: ${error.message})`);\n        }\n      }\n    }\n  }\n}\n\nconst pdfService = new PDFService();\nexport default pdfService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}